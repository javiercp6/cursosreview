---
import type { CollectionEntry } from "astro:content";
type Props = CollectionEntry<"courses">["data"] & { slug: string };

const { heroImage, category, title, slug, afiliateLink } = Astro.props;
---

<div
  class="max-w-full w-full overflow-hidden bg-white rounded-lg shadow-md dark:bg-gray-800 hover:scale-105 transition-all cursor-pointer min-w-60"
  transition:name={title}
>
  <img class="object-cover w-full h-56" src={heroImage} alt="Article" />

  <div class="px-4 py-2">
    <div class="">
      <span
        class="text-xs font-medium text-purple-700 uppercase dark:text-purple-700"
        >{category.id}</span
      >
      <div
        class="mt-2 truncate-line h-[84px] text-xl font-semibold text-gray-800 transition-colors duration-300 transform dark:text-white hover:text-gray-600"
        tabindex="0"
      >
        {title}
      </div>

      <div class="flex pt-3">
        <div class="w-full">
          <a
            href={afiliateLink}
            target="_blank"
            class="inline-flex items-center justify-center px-2 text-xs py-0.5 overflow-hidden text-white transition-colors duration-300 bg-purple-800 rounded-lg shadow hover:bg-purple-600 focus:ring focus:ring-blue-300 focus:ring-opacity-80"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              class="size-5"
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
              class="icon icon-tabler icons-tabler-outline icon-tabler-eye"
              ><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path
                d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0"></path><path
                d="M21 12c-2.4 4 -5.4 6 -9 6c-3.6 0 -6.6 -2 -9 -6c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6"
              ></path></svg
            >

            <span class="mx-2"> Ver oferta </span>
          </a>
        </div>
        <div class="flex justify-end w-full h-min">
          <a
            href={`/courses/${slug}`}
            class="inline-flex items-center justify-center px-2 py-0.5 text-xs text-gray-700 transition-colors duration-300 transform bg-white border border-gray-200 rounded-lg dark:bg-gray-900 dark:border-gray-700 hover:bg-gray-100 dark:text-white sm:w-auto dark:hover:bg-gray-800 dark:ring-gray-700 focus:ring focus:ring-gray-200 focus:ring-opacity-80"
          >
            Detalles
            <svg
              class="size-5 pl-1"
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
              class="icon icon-tabler icons-tabler-outline icon-tabler-arrow-right"
              ><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path
                d="M5 12l14 0"></path><path d="M13 18l6 -6"></path><path
                d="M13 6l6 6"></path></svg
            >
          </a>
        </div>
      </div>
    </div>
  </div>
</div>
<style>
  .truncate-line {
    display: -webkit-box;
    white-space: normal;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 3;
    overflow: hidden;
  }
</style>
